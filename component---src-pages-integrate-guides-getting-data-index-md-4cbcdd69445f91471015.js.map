{"version":3,"sources":["webpack://cc-libraries-api/./src/pages/integrate/guides/getting-data/index.md"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-integrate-guides-getting-data-index-md-4cbcdd69445f91471015.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/cc-libraries-api/cc-libraries-api/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"getting-library-and-element-data\"\n    }}>{`Getting Library and Element Data`}</h1>\n    <p>{`Any integration with the Libraries API will involve reading information about a user's stored libraries and elements.`}</p>\n    <p>{`For example, you may want answers to questions like:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`What libraries or elements were created in the last week?`}</li>\n      <li parentName=\"ul\">{`What is the name of each element in a given library?`}</li>\n      <li parentName=\"ul\">{`Where is the thumbnail for a given library element?`}</li>\n    </ul>\n    <p>{`As you might imagine, you can accomplish all of this and much more with `}<inlineCode parentName=\"p\">{`GET`}</inlineCode>{` requests to the Libraries API.`}</p>\n    <p>{`Depending on your use case, you may prefer to make your Libraries API calls from the client or from your server. In this tutorial, we're going to focus on how to make calls from your server with Node.js and Express.`}</p>\n    <p>{`In each step, we'll set up an Express route to make an API call and talk a little about the response we get. The accompanying sample repo will embellish slightly on what we cover here by making simple use of the API responses in the browser.`}</p>\n    <p>{`Reading through this tutorial will give you a simple jumping off point for learning more about our `}<inlineCode parentName=\"p\">{`GET`}</inlineCode>{` endpoints in the API references.`}</p>\n    <h2 {...{\n      \"id\": \"before-you-start\"\n    }}>{`Before you start`}</h2>\n    <h3 {...{\n      \"id\": \"technology-used\"\n    }}>{`Technology Used`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Node.js`}</li>\n      <li parentName=\"ul\">{`npm`}</li>\n      <li parentName=\"ul\">{`Express`}</li>\n      <li parentName=\"ul\">{`Axios`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"prerequisites\"\n    }}>{`Prerequisites`}</h3>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"./how-to-get-your-developer-credentials.md\"\n        }}>{`How to get your developer credentials`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"./tutorials/how-to-get-access-tokens-with-oauth.md\"\n        }}>{`How to get access tokens with OAuth`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"./quick-start-nodejs.md\"\n        }}>{`Quick Start: Node.js`}</a></li>\n    </ul>\n    <h2 {...{\n      \"id\": \"development-steps\"\n    }}>{`Development Steps`}</h2>\n    <blockquote>\n      <p parentName=\"blockquote\"><strong parentName=\"p\">{`Info`}</strong>{`\nComplete code for this tutorial can be found `}<a parentName=\"p\" {...{\n          \"href\": \"https://github.com/cc-libraries-api/code-samples/tree/master/getting-data-nodejs\"\n        }}>{`on GitHub`}</a>{`.`}</p>\n    </blockquote>\n    <h3 {...{\n      \"id\": \"1-bootstrap-an-express-app\"\n    }}>{`1. Bootstrap an Express app`}</h3>\n    <p>{`We'll start by using `}<inlineCode parentName=\"p\">{`express-generator`}</inlineCode>{`, a scaffolding tool provided by Express, a popular server-side framework for Node.js. In your terminal, create your project:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`npx express-generator --ejs --git myapp\n`}</code></pre>\n    <blockquote>\n      <p parentName=\"blockquote\"><strong parentName=\"p\">{`Info`}</strong>{`\nYou can learn more about `}<inlineCode parentName=\"p\">{`express-generator`}</inlineCode>{` in `}<a parentName=\"p\" {...{\n          \"href\": \"https://expressjs.com/en/starter/generator.html\"\n        }}>{`their docs`}</a>{`. For our purposes here, this is all we need to do before digging in.`}</p>\n    </blockquote>\n    <p>{`Then navigate to your new project, install dependencies, and start your app:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`cd myapp\nnpm install --save axios dotenv\ntouch .env\nnpm start\n`}</code></pre>\n    <blockquote>\n      <p parentName=\"blockquote\"><strong parentName=\"p\">{`Info`}</strong>{`\nFor setting up your `}<inlineCode parentName=\"p\">{`.env`}</inlineCode>{` file, see the `}<a parentName=\"p\" {...{\n          \"href\": \"https://github.com/cc-libraries-api/api-docs/blob/master/tutorials/quick-start-nodejs.md#1-set-up-your-environment-variables\"\n        }}>{`\"Set up your environment variables\" section`}</a>{` in our `}<em parentName=\"p\">{`Quick Start: Node.js`}</em>{` tutorial.`}</p>\n    </blockquote>\n    <p>{`In your browser, if you navigate to `}<inlineCode parentName=\"p\">{`localhost:3000`}</inlineCode>{`, you'll see the default home page created by `}<inlineCode parentName=\"p\">{`express-generator`}</inlineCode>{`. (We won't be working with UI in this tutorial, but the accompanying sample repo makes very basic use of the API responses in the browser.)`}</p>\n    <h3 {...{\n      \"id\": \"2-get-metadata-about-your-users-libraries\"\n    }}>{`2. Get metadata about your user's Libraries`}</h3>\n    <p>{`We'll get started with the Libraries API by getting a top-level view of the libraries that the user has stored.`}</p>\n    <p><strong parentName=\"p\">{`Creating the route`}</strong></p>\n    <p>{`In the app we just generated, we'll create a new route in the `}<inlineCode parentName=\"p\">{`routes/index.js`}</inlineCode>{` file:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`require(\"dotenv\").config();\nconst express = require(\"express\");\nconst router = express.Router();\nconst axios = require(\"axios\"); // Be sure to require axios\n\nconst baseURL = \"https://cc-libraries.adobe.io/api/v1/libraries\";\n\n// The default GET route provided by express-generator\nrouter.get(\"/\", async (req, res, next) => {\n  res.render(\"index\", { title: \"Creative Cloud Libraries API\" });\n});\n\n// Our new route\nrouter.get(\"/cc-libraries/data\", async (req, res, next) => {\n  const options = {\n    headers: {\n      \"x-api-key\": process.env.API_KEY,\n      Authorization: \\`Bearer \\${process.env.ACCESS_TOKEN}\\`,\n    },\n  };\n\n  try {\n    const response = await axios.get(baseURL, options);\n    res.json(response.data);\n  } catch (error) {\n    console.log(error);\n    next(error);\n  }\n});\n\nmodule.exports = router;\n`}</code></pre>\n    <blockquote>\n      <p parentName=\"blockquote\"><strong parentName=\"p\">{`Info`}</strong>{`\nAbove this route, we've also set the `}<inlineCode parentName=\"p\">{`baseURL`}</inlineCode>{` variable. We'll use this variable in other routes later on, so make sure you've set it outside of the route as you see above.`}</p>\n    </blockquote>\n    <p><strong parentName=\"p\">{`What it does`}</strong></p>\n    <p>{`The heart of the `}<inlineCode parentName=\"p\">{`\"/cc-libraries/data\"`}</inlineCode>{` route is where we make the API call (for this example, we're using the `}<inlineCode parentName=\"p\">{`axios`}</inlineCode>{` module for making HTTP requests):`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`const response = await axios.get(baseURL, options);\nres.json(response.data);\n`}</code></pre>\n    <p>{`If everything goes well, we'll get a response from the Libraries API that contains JSON data (in this example, within `}<inlineCode parentName=\"p\">{`response.data`}</inlineCode>{`) that we return to the browser.`}</p>\n    <p><strong parentName=\"p\">{`Try it out`}</strong></p>\n    <p>{`You can access this endpoint by navigating your browser to:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`http://localhost:3000/cc-libraries/data\n`}</code></pre>\n    <p>{`The response will look something like this:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n  \"total_count\": 2,\n  \"libraries\": [\n    /* Your libraries here */\n  ]\n}\n`}</code></pre>\n    <p>{`The `}<inlineCode parentName=\"p\">{`libraries`}</inlineCode>{` array contains a JSON object full of metadata related to each of your user's Libraries. Each object in this array will have a unique `}<inlineCode parentName=\"p\">{`id`}</inlineCode>{` property for that specific library:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n  \"id\": \"AAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA\",\n  \"name\": \"My Libraray\",\n  \"created_date\": 1565044330560,\n  \"modified_date\": 1568329791348\n  /* More library metadata */\n}\n`}</code></pre>\n    <p>{`Go ahead and copy an `}<inlineCode parentName=\"p\">{`id`}</inlineCode>{` from one of your libraries. We'll use it in the next step.`}</p>\n    <h3 {...{\n      \"id\": \"3-get-metadata-for-elements-in-a-specific-library\"\n    }}>{`3. Get metadata for elements in a specific Library`}</h3>\n    <p>{`Next we'll get a list of elements contained in a given library.`}</p>\n    <p><strong parentName=\"p\">{`Creating the route`}</strong></p>\n    <p>{`Back in `}<inlineCode parentName=\"p\">{`routes/index.js`}</inlineCode>{`, we'll create a route for retreiving metadata for a specific Library's elements:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`router.get(\"/cc-libraries/data/:libraryId\", async (req, res, next) => {\n  const { libraryId } = req.params;\n\n  const options = {\n    headers: {\n      \"x-api-key\": process.env.API_KEY,\n      Authorization: \\`Bearer \\${process.env.ACCESS_TOKEN}\\`,\n    },\n  };\n\n  try {\n    const response = await axios.get(\n      \\`\\${baseURL}/\\${libraryId}/elements\\`,\n      options\n    );\n    res.json(response.data);\n  } catch (error) {\n    console.log(error);\n    next(error);\n  }\n});\n`}</code></pre>\n    <p><strong parentName=\"p\">{`What it does`}</strong></p>\n    <p>{`Our route above takes a `}<inlineCode parentName=\"p\">{`libraryId`}</inlineCode>{` parameter. This parameter is then used to create the Libraries API endpoint we want to call:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`\\`\\${baseURL}/\\${libraryId}/elements\\`;\n// Or, https://cc-libraries.adobe.io/api/v1/libraries/AAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA/elements\n`}</code></pre>\n    <p>{`As in the first route, we use the `}<inlineCode parentName=\"p\">{`axios`}</inlineCode>{` module to make the HTTP request. If the request is successful, we get a JSON object from the Libraries API that we send back to the browser.`}</p>\n    <p><strong parentName=\"p\">{`Try it out`}</strong></p>\n    <p>{`You can access this endpoint by navigating your browser to this URL (be sure to swap in the library ID you copied in the previous step):`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`http://localhost:3000/cc-libraries/data/AAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA\n`}</code></pre>\n    <p>{`The response will look something like this:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n  \"total_count\": 60,\n  \"elements\": [\n    /* Library elements here */\n  ]\n}\n`}</code></pre>\n    <p>{`The `}<inlineCode parentName=\"p\">{`elements`}</inlineCode>{` array contains a JSON object full of metadata related to each of the elements stored in a given Library:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n  \"id\": \"BBBBBBBB-BBBB-BBBB-BBBB-BBBBBBBBB\",\n  \"name\": \"An Element Name\",\n  \"created_date\": 1565044330560,\n  \"modified_date\": 1568329791348,\n  \"type\": \"application/vnd.adobe.element.pattern+dcx\",\n  \"thumbnail\": {},\n  \"groups\": [],\n  \"assetSubType\": \"element\"\n}\n`}</code></pre>\n    <blockquote>\n      <p parentName=\"blockquote\"><strong parentName=\"p\">{`Info`}</strong>{`\nIt's worth noting that if you already have a specific element ID that you want metadata for, you can request it directly using the element ID (e.g., `}<inlineCode parentName=\"p\">{`\\${baseURL}/\\${libraryId}/elements/\\${elementId}`}</inlineCode>{`). See the endpoint references for more details.`}</p>\n    </blockquote>\n    <h3 {...{\n      \"id\": \"4-getting-image-renditions-and-thumbnails\"\n    }}>{`4. Getting image renditions and thumbnails`}</h3>\n    <p>{`Next we'll get an image rendition for a specific element.`}</p>\n    <p><strong parentName=\"p\">{`Creating the route`}</strong></p>\n    <p>{`Back in `}<inlineCode parentName=\"p\">{`routes/index.js`}</inlineCode>{`, we'll create a route for retreiving an image representation of a Library element:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`router.get(\"/cc-libraries/image\", async (req, res, next) => {\n  let { url } = req.query;\n  url = url.slice(0, url.lastIndexOf(\"/\")); // See the Info box below\n\n  const options = {\n    responseType: \"arraybuffer\",\n    headers: {\n      \"x-api-key\": process.env.API_KEY,\n      Authorization: \\`Bearer \\${process.env.ACCESS_TOKEN}\\`,\n    },\n  };\n\n  try {\n    const response = await axios.get(url, options);\n    const dataUrl = getBase64dataUrl(response);\n\n    res.set(\"Content-Type\", response.headers[\"content-type\"]);\n    res.set(\"Content-Length\", response.headers[\"content-length\"]);\n    res.send(dataUrl);\n  } catch (error) {\n    console.log(error.message);\n    next(error);\n  }\n});\n\nconst getBase64dataUrl = (response) => {\n  const base64flag = \\`data:\\${response.headers[\"content-type\"]};base64,\\`;\n  const base64string = Buffer.from(response.data, \"binary\").toString(\"base64\");\n\n  return \\`\\${base64flag}\\${base64string}\\`;\n};\n`}</code></pre>\n    <blockquote>\n      <p parentName=\"blockquote\"><strong parentName=\"p\">{`Info`}</strong>{`\nNote that above, for simplicity we are naively slicing off from the `}<inlineCode parentName=\"p\">{`url`}</inlineCode>{` query the rendition argument the Libraries API provides by default, which is `}<inlineCode parentName=\"p\">{`:rendition;size=200`}</inlineCode>{`. Slicing this off gives you a full-size image, which in many cases may not be ideal due to size. If you have a specific size in mind, you can change `}<inlineCode parentName=\"p\">{`200`}</inlineCode>{` to another value, or keep the query in tact.`}</p>\n    </blockquote>\n    <p><strong parentName=\"p\">{`What it does`}</strong></p>\n    <p>{`Our route above takes a `}<inlineCode parentName=\"p\">{`url`}</inlineCode>{` query (`}<inlineCode parentName=\"p\">{`/cc-libraries/image?url=https://url-here`}</inlineCode>{`). The value of this query (which is the element's thumbnail URL we copied in the previous step) is then used to call the Adobe storage service:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`const response = await axios.get(url, options);\n`}</code></pre>\n    <p>{`Again, we use the `}<inlineCode parentName=\"p\">{`axios`}</inlineCode>{` module to make the HTTP request. If the request is successful, we receive image data that we can do further work with.`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\"><strong parentName=\"p\">{`Info`}</strong>{`\nNote that, unlike in our previous routes, here we are not using the Libraries API `}<inlineCode parentName=\"p\">{`baseURL`}</inlineCode>{` variable that we defined earlier. Images come from another service which we will call directly.`}</p>\n    </blockquote>\n    <p>{`The route will then transform the response data from an array buffer to a base64 data URL (`}<inlineCode parentName=\"p\">{`dataUrl`}</inlineCode>{`) that can be used as the `}<inlineCode parentName=\"p\">{`src`}</inlineCode>{` of an image element in the browser. This step is just for the purpose of demonstration; you might have other uses for the image data.`}</p>\n    <p><strong parentName=\"p\">{`Try it out`}</strong></p>\n    <p>{`You can access this endpoint by navigating your browser to this URL (be sure to swap in the thumbnail URL you copied in the previous step):`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`http://localhost:3000/cc-libraries/image?url=https://url-here\n`}</code></pre>\n    <p>{`Your browser will receive a base64 string representing the image data. Since we haven't set up an image element to display the image data, you'll need to have a look in your browser's developer tools to see the data. In Chome DevTools for example, you can find the data string in the `}<em parentName=\"p\">{`Sources`}</em>{` tab, under `}<em parentName=\"p\">{`top > localhost:{port} > cc-libraries > image?url=https://url-here`}</em>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-base64\"\n      }}>{`data:image/jpeg;base64,base64stringhere...\n`}</code></pre>\n    <p>{`If we wanted to display the image, this base64 data URL (`}<inlineCode parentName=\"p\">{`dataUrl`}</inlineCode>{`) could be used as the `}<inlineCode parentName=\"p\">{`src`}</inlineCode>{` of an image element. In fact, the accompanying sample repo does this if it's something you're interested in seeing.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}